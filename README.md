## 天地劫：幽城再临
### 手游《天地劫：幽城再临》PC端首领战伤害统计工具

**访问 [https://itx351.github.io/tdj_act/](https://itx351.github.io/tdj_act/) 在线使用。**

---

### 使用方法

1. **战斗结束后关闭游戏客户端。**
2. **找到手游的数据存储路径：**
   - 路径示例：`C:\Users\your_username\AppData\LocalLow\紫龙游戏\天地劫：幽城再临\Config`
3. **找到最后一个 `.bl` 格式的文件，大小约 1~5MB：**
   - 文件示例：`9834750923847561982_11223344(9876543210)_20250227_123456.bl`
4. **选择此文件上传，获取统计数据。**

---

### 其他事项

- 上传的文件不能大于15MB。
- 单人伤害只考虑每个人行动前后的血量差值，因此协攻、千秀阵造成的伤害均被统计为当前行动者的伤害。敌方BOSS行动后受到的伤害是我方附加的持续性伤害和地板伤害。
- 总伤害未包括护盾值。新动物园的结算伤害是包括打在盾上的伤害的，数值上会有差别。
- 统计出生时血量大于指定值（默认为150,000）的单位作为唯一敌方BOSS单位，同时有多个BOSS存活会导致检测错误。统计actorId>1000的单位作为我方单位，因此可能会有误判。
- 回合数可能有误判，有些生成的文件怪怪的。
- 目前只在几个手头已有的文件上做了简单测试。有任何无法正确加载的战斗记录，或你有更好的伤害判定方法，欢迎指出或fork。

---

### 服务器 React.js 配置

#### Setup

运行以下命令以安装所有依赖项：
```sh
npm install
```

#### Running

运行以下命令并访问 `localhost:3000` 进行调试：
```sh
npm start
```

#### Release

运行以下命令以生成最小化的生产版本：
```sh
npm run build
```

---

by ITX351
